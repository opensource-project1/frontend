<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Start study!</title>
  <style>
    
    .tabs {
    display: flex;
    justify-content: flex-start;
    position: absolute;   /* ìƒëŒ€ ìœ„ì¹˜ë¡œ ì´ë™ ê°€ëŠ¥í•˜ê²Œ í•¨ */
    top: 164px;             /* ìœ„ì—ì„œ 10px ë–¨ì–´ì§„ ìœ„ì¹˜ì— ë†“ê¸° */
    left: 300px;            /* ì™¼ìª½ì—ì„œ 30px ë–¨ì–´ì§€ê²Œ */
    z-index: 10;           /* ë‹¤ë¥¸ ìš”ì†Œ ìœ„ì— ë³´ì´ê²Œ í•¨ */
  }

  .tab {
    padding: 5px 22px;
    font-size: 13px;
    border: 1.5px solid #000000;
    border-bottom: none;
    border-radius: 9px 9px 0 0;
    background-color: #ffdaef;
    color: #000000;  /* âœ… ê¸€ììƒ‰ í°ìƒ‰ìœ¼ë¡œ ë³€ê²½ */
    cursor: pointer;
    margin-right: 6px;
    transition: 0.3s; /* ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ ë¶€ë“œëŸ½ê²Œ ë°”ë€Œë„ë¡ ì• ë‹ˆë©”ì´ì…˜ 0.3ì´ˆ */
  }

  .tab.active {
    background-color: white;
    border-bottom: 2px solid white;
  }


  .tab-content.active {
      margin-bottom: 30px;
    display: flex;
    flex-direction: column;
  }
  .tabs span {
    padding: 10px 20px;
    border: 1px solid #888;
    border-bottom: none;
    background-color: #f8f8f0;
    border-radius: 8px 8px 0 0;
    cursor: pointer;
  }

  .tabs span.active {
    background-color: white;
    font-weight: bold;
  }
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background-image: url('main_page2.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      font-family: 'Pretendard', sans-serif;
    }

    .screen-box {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: absolute;
      top: 25.3%;
      left: 20%;
      width: 53%;
      height: 53%;
      background: linear-gradient(to bottom, #ffffff, #f2f4ff );
      background-color:  #f4f9ff;
      border-radius: 10px;
      padding: 30px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.3),
      inset 0 0 15px rgba(255, 255, 255, 0.4);  /* âœ… ë‚´ë¶€ ê´‘íƒ */

    }

    .todo-box {
      width: 35%;
      background-color: #e6c7ef;
      border-radius: 20px;
      padding: 20px;
      height: 80%;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
    }

    .timer-box {
      width: 45%;
      text-align: center;
    }

    #timer {
      font-size: 48px;
      margin: 20px 0;
    }

    input#todo-input {
      width: 100%;
      padding: 8px;
      margin-top: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .circle-timer {
  position: relative;
  width: 200px;
  height: 200px;
  margin: 0 auto;
}

#progress-ring {
  transform: rotate(-90deg);
  transform-origin: center;
  stroke-dasharray: 565.48; /* 2Ï€r â‰ˆ 2 * 3.14 * 90 */
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 1s linear;
}

.timer-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -75%);
  font-size: 32px;
  font-family: 'Rajdhani', sans-serif;
}

.progress-ring {
  transform: rotate(-90deg);
}

.ring-bg {
  fill: none;
  stroke: #ccc;
  stroke-width: 10;
}

.ring-bar {
  fill: none;
  stroke: #ffa0fa; /* ì§„í•œ ë‚¨ìƒ‰ */
  stroke-width: 10;
  stroke-dasharray: 565.48; /* 2Ï€r (r=90) */
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 0.3s;
}

.start-btn {
  margin-top: 20px;
  padding: 14px 32px;
  background-color: #6c63ff;  /* ì—°ë³´ë¼ìƒ‰ */
  color: white;
  border: none;
  border-radius: 999px; /* ë‘¥ê¸€ê²Œ ì•Œì•½ì²˜ëŸ¼ */
  font-size: 18px;
  font-weight: bold;
  font-family: 'Pretendard', sans-serif;
  cursor: pointer;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  transition: background-color 0.2s, transform 0.1s;
}

.start-btn:hover {
  background-color: #574fd6;
  transform: scale(1.03);
}


.top-bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 30px; /* ì–‡ì€ ë§‰ëŒ€ ëŠë‚Œ */
  background: linear-gradient(to bottom, #a59bff, #a59bff); /* ê·¸ë¼ë°ì´ì…˜ */
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.window-dots {
  position: absolute;
  right: 14px;        /* ì˜¤ë¥¸ìª½ ëì—ì„œ ì‚´ì§ ë–¨ì–´ì§ */
  top: 8px;           /* ìœ„ì—ì„œ ì•½ê°„ ì•„ë˜ */
  display: flex;
  gap: 6px;
}

.window-dots span {
  width: 7px;
  height: 7px;
  background-color: white;  /* ì› ìƒ‰ìƒ */
  border-radius: 50%;
  box-shadow: 0 0 1px rgba(0, 0, 0, 0.3); /* ì‘ê²Œ í…Œë‘ë¦¬ */
}


  </style>
</head>

<body>
    <!-- ìœ„ì˜ ë°” -->
      <div class="tabs">
        <div class="tab" onclick="location.href='mypage.html'">MYPAGE</div>
        <div class="tab" onclick="location.href='main.html'">START</div>
        <div class="tab" onclick="location.href='record.html'">RECORD</div>
    </div>
  <div class="screen-box">

     <div class="top-bar"> <!-- âœ… ì´ ì¤„ì´ ê¾¸ë©°ì£¼ëŠ” ë°•ìŠ¤! -->
      <div class="window-dots">
        <span></span><span></span><span></span>
      </div>
    </div>

    <!-- ì™¼ìª½ -->
    <div class="todo-box">
      <h3>í•  ì¼ ëª©ë¡</h3>
      <ul id="todo-list"></ul>
      <input type="text" id="todo-input" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”" />
      <button id="add-btn">ì¶”ê°€</button>
    </div>

    <!-- ì˜¤ë¥¸ìª½ -->
<div class="timer-box">
  <h2>Start work!</h2>
  <div class="circle-timer">
    <svg width="200" height="200">
      <circle cx="100" cy="100" r="90" stroke="#ddd" stroke-width="15" fill="none" />
      <circle id="progress-ring" cx="100" cy="100" r="90" stroke="#3b3f73" stroke-width="15" fill="none" stroke-linecap="round" />
    </svg>
    <div class="timer-text" id="timer">25:00</div>
  </div>
  <button class="start-btn" onclick="startTimer()">Start</button>

</div>

<script>
  // ğŸ“ í•  ì¼ ëª©ë¡ ê¸°ëŠ¥
  document.addEventListener('DOMContentLoaded', () => {
    const input = document.getElementById('todo-input');
    const list = document.getElementById('todo-list');
    const addBtn = document.getElementById('add-btn');

    const savedTodos = JSON.parse(localStorage.getItem("todos")) || [];
    savedTodos.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item;
      list.appendChild(li);
    });

    addBtn.addEventListener('click', () => {
      if (input.value.trim() !== '') {
        const li = document.createElement('li');
        li.textContent = input.value;
        list.appendChild(li);

        savedTodos.push(input.value);
        localStorage.setItem("todos", JSON.stringify(savedTodos));
        input.value = '';
      }
    });

    input.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') addBtn.click();
    });
  });

  // ğŸ•’ íƒ€ì´ë¨¸ ê°’ ê°€ì ¸ì˜¤ê¸°
  let minutes = parseInt(localStorage.getItem('focusMinutes'));
  if (!minutes || isNaN(minutes)) {
    minutes = 25;
  }
  let seconds = minutes * 60;
  let timerInterval;

  // ğŸŸ£ ì›í˜• íƒ€ì´ë¨¸ ê´€ë ¨ ì„¤ì •
  const progressRing = document.getElementById('progress-ring');
  const circleLength = 2 * Math.PI * 90; // r=90 ì´ë‹ˆê¹Œ

  progressRing.style.strokeDasharray = circleLength;
  progressRing.style.strokeDashoffset = 0;

  function updateCircle(progress) {
    const offset = circleLength * (1 - progress);
    progressRing.style.strokeDashoffset = offset;
  }

  // â± ì‹œê°„ í‘œì‹œ ì—…ë°ì´íŠ¸
  function updateTimerDisplay() {
    const display = document.getElementById('timer');
    const min = String(Math.floor(seconds / 60)).padStart(2, '0');
    const sec = String(seconds % 60).padStart(2, '0');
    display.textContent = `${min}:${sec}`;
  }

  // â–¶ íƒ€ì´ë¨¸ ì‹œì‘ í•¨ìˆ˜
  function startTimer() {
    clearInterval(timerInterval);
    updateCircle(0); // ì›í˜• ì´ˆê¸°í™”
    updateTimerDisplay(); // ìˆ«ìë„ ê°±ì‹ 

    timerInterval = setInterval(() => {
      if (seconds > 0) {
        seconds--;
        updateTimerDisplay();

        const progress = (minutes * 60 - seconds) / (minutes * 60);
        updateCircle(progress);
      } else {
        clearInterval(timerInterval);
        updateCircle(1);
        alert("ì§‘ì¤‘ ì‹œê°„ì´ ëë‚¬ì–´ìš”!");
      }
    }, 1000);
  }

  // ğŸ”˜ ì‹œì‘ ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°
  document.addEventListener('DOMContentLoaded', () => {
    updateTimerDisplay();
    const startBtn = document.querySelector('button[onclick="startTimer()"]');
    if (startBtn) {
      startBtn.addEventListener('click', startTimer);
    }
  });
</script>




</body>
</html>

